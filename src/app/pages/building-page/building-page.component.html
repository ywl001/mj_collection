<div class="container">

    <div class="w100 flex">
        <button mat-flat-button color="primary" class="flex-1" (click)="onBack()">返回</button>
        <button mat-flat-button color="primary" class="flex-2" (click)="onExportBuildingPersons()">导出楼栋人员</button>
    </div>

    <h2>{{xqName}}{{building.building_number}}号楼</h2>
    <div class="accordion-container" #accordionContainer (scroll)="onScroll($event)">
        <mat-accordion displayMode="flat" #matAccordion>
            @for (item of building.unit_home; track item;let i = $index) {
            <mat-expansion-panel (opened)="onClickUnit(i)">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        {{i+1}}单元
                    </mat-panel-title>
                </mat-expansion-panel-header>

                @for (item of unitRoomNumbers; track $index) {
                    <app-room-item [data]="item"></app-room-item>
                }
            </mat-expansion-panel>
            }
        </mat-accordion>
    </div>
</div>